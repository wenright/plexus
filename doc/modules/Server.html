<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>ldoc</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Tables">Tables</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/ClientExample.html">ClientExample</a></li>
  <li><a href="../modules/ServerExample.html">ServerExample</a></li>
  <li><a href="../modules/Network.html">Network</a></li>
  <li><strong>Server</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>Server</code></h1>
<p>Keeps clients up to date by sending messages back and forth</p>
<p></p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Release</strong>: 0.0.1</li>
        <li><strong>Author</strong>: Will</li>
    </ul>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#start">start (port)</a></td>
	<td class="summary">First call, used to initialize the server.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#on">on (cmd, callback)</a></td>
	<td class="summary">Used to set callbacks which are called when the clients send a certain command.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#send">send (ip, port, cmd, params, playerID)</a></td>
	<td class="summary">Sends a message to the clients</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#broadcast">broadcast (cmd, params, playerID)</a></td>
	<td class="summary">Send a message from one player to every player on the server</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#instantiate">instantiate (params, senderID)</a></td>
	<td class="summary">Spawn an object accross all clients</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#update">update ()</a></td>
	<td class="summary">Update the network.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#Deserialize">Deserialize (ser)</a></td>
	<td class="summary">Deserialize a string by running it with Lua</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#newID">newID ()</a></td>
	<td class="summary">Create a new ID used for either entities or players.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#log">log (str)</a></td>
	<td class="summary">Print to the command line and log to a file</td>
	</tr>
</table>
<h2><a href="#Tables">Tables</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#Network">Network</a></td>
	<td class="summary">Stores network variables and callbacks</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "start"></a>
    <strong>start (port)</strong>
    </dt>
    <dd>
    First call, used to initialize the server.   Sets up UDP to listen for clients


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">port</span>
            <span class="types"><span class="type">number</span></span>
         Port number to host server on
        </li>
    </ul>





</dd>
    <dt>
    <a name = "on"></a>
    <strong>on (cmd, callback)</strong>
    </dt>
    <dd>
    Used to set callbacks which are called when the clients send a certain command.
 The function can return a string and a table as a parameter, which will then be broadcasted
   to all players on the server.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">cmd</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The command to listen for. Ex: 'update'
        </li>
        <li><span class="parameter">callback</span>
            <span class="types"><span class="type">function</span></span>
         The function called when this command arrives
        </li>
    </ul>





</dd>
    <dt>
    <a name = "send"></a>
    <strong>send (ip, port, cmd, params, playerID)</strong>
    </dt>
    <dd>
    Sends a message to the clients


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ip</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         IP to send the command to
        </li>
        <li><span class="parameter">port</span>
            <span class="types"><span class="type">number</span></span>
         Port to send the command to
        </li>
        <li><span class="parameter">cmd</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The command to send.  This should be the same as the listener on the client side
        </li>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Parameters to send to the listeners.  It will be serialized to a string and deserialized later
        </li>
        <li><span class="parameter">playerID</span>
            <span class="types"><span class="type">number</span></span>
         The ID of the player sending the command
        </li>
    </ul>





</dd>
    <dt>
    <a name = "broadcast"></a>
    <strong>broadcast (cmd, params, playerID)</strong>
    </dt>
    <dd>
    Send a message from one player to every player on the server


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">cmd</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The command to send.  This should be the same as the listener on the client side
        </li>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Parameters to send to the listeners.  It will be serialized to a string and deserialized later
        </li>
        <li><span class="parameter">playerID</span>
            <span class="types"><span class="type">number</span></span>
         The ID of the player sending the command
        </li>
    </ul>





</dd>
    <dt>
    <a name = "instantiate"></a>
    <strong>instantiate (params, senderID)</strong>
    </dt>
    <dd>
    Spawn an object accross all clients


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">params</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.5">table</a></span>
         Parameters to send to the listeners.  It will be serialized to a string and deserialized later
        </li>
        <li><span class="parameter">senderID</span>
            <span class="types"><span class="type">number</span></span>
         The ID of the player sending the command
        </li>
    </ul>





</dd>
    <dt>
    <a name = "update"></a>
    <strong>update ()</strong>
    </dt>
    <dd>
    Update the network.   Loops through all messages, handling them by calling their callbacks







</dd>
    <dt>
    <a name = "Deserialize"></a>
    <strong>Deserialize (ser)</strong>
    </dt>
    <dd>
    Deserialize a string by running it with Lua


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ser</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "newID"></a>
    <strong>newID ()</strong>
    </dt>
    <dd>
    Create a new ID used for either entities or players.   The ID is unique and ranges from [0, 999999]



    <h3>Returns:</h3>
    <ol>

        number The newly created ID
    </ol>




</dd>
    <dt>
    <a name = "log"></a>
    <strong>log (str)</strong>
    </dt>
    <dd>
    Print to the command line and log to a file


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">str</span>
            <span class="types"><a class="type" href="http://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>
         The string to log
        </li>
    </ul>





</dd>
</dl>
    <h2 class="section-header "><a name="Tables"></a>Tables</h2>

    <dl class="function">
    <dt>
    <a name = "Network"></a>
    <strong>Network</strong>
    </dt>
    <dd>
    Stores network variables and callbacks


    <h3>Fields:</h3>
    <ul>
        <li><span class="parameter">udp</span>
         The interface with the clients
        </li>
        <li><span class="parameter">callbacks</span>
         A table filled with callbacks that the user creates
        </li>
        <li><span class="parameter">id</span>
         The ID assigned to the server. Default: -1
        </li>
        <li><span class="parameter">players</span>
         A table filled with player objects
        </li>
        <li><span class="parameter">numPlayers</span>
         Keeps track of the number of players connected to the server
        </li>
        <li><span class="parameter">entities</span>
         Keeps track of any entities spawned into the game with instantiate
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2016-04-04 22:05:05 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
